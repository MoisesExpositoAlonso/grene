{
    "collab_server" : "",
    "contents" : "devtools::load_all(\".\")\n\n#### accessions ####\ndata(\"grenelist\")\ngrenelist\n\nrefresh=F\npres=raster::getData(name =\"worldclim\" ,res=\"2.5\",path=\".\",var=\"bio\",download = refresh)\n# fut=raster::getData(name =\"CMIP5\" ,res=\"2.5\",path=\"~\",var=\"bio\",model=\"MP\",rcp=85,year=50) # MP for Max Planck\n\nclimgenom=\n  sapply(1:19, function(b){\n  raster::extract(pres[[b]],grenelist[,c(\"longitude\",\"latitude\")])\n})\ncolnames(climgenom)<-names(pres)\ngrenelist.clim <- cbind(grenelist,climgenom)\n\n#### The locations ####\n\ngrenestations = readOGR(\"data-raw/GRENE-net.kml\", \"GRENE-net stations\")\ngrenestations %>% attributes()\n\ngrenestations.df = data.frame(longitude=coordinates(grenestations)[,c(1)],\n                              latitude=coordinates(grenestations)[,c(2)],\n                              name = grenestations$Name\n                              )\n\n\nclimstation=\n  sapply(1:19, function(b){\n  raster::extract(pres[[b]],grenestations.df[,c(\"longitude\",\"latitude\")])\n})\ncolnames(climstation)<-names(pres)\n\ngrenestations.clim <- cbind(grenestations.df,climstation)\n\n\n#### plot clima ####\nlibrary(ggplot2)\nlibrary(cowplot)\ngrenerange=ggplot()+\n  geom_point(data=grenelist.clim, aes(y=bio1, x=bio12)) +\n  geom_point(data=grenestations.clim, aes(y=bio1, x=bio12), size=4, shape=1, col=\"red\") +\n  ylab(\"Mean Annual Temperature (ÂºC x 10)\")+ xlab(\"Mean Annual precipitation (mm)\")\ngrenerange\n\nsave_plot(file=\"figs/grene_range_climate.pdf\",plot = grenerange,base_height = 7, base_width = 7)\n\n#### plot geo ####\ndevtools::load_all(\"~/mexposito/moiR\")\np=ggplot_world_map()\np\n",
    "created" : 1499337859364.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2909076045",
    "id" : "3B99FFDF",
    "lastKnownWriteTime" : 1499413385,
    "last_content_update" : 1499413385890,
    "path" : "~/GoogleDrive/RESEARCH/_evolutionexperiment/grene/analyses/distribution_grene.R",
    "project_path" : "analyses/distribution_grene.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}